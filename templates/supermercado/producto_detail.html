{% extends "base.html" %}
{% load static %}

{% block title %}{{ producto.nombre }}{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-5">

        <div class="card shadow-sm mb-3">
            {% if producto.imagen %}
            <img src="{{ producto.imagen.url }}" class="card-img-top" alt="{{ producto.nombre }}">
            {% else %}
            <img src="{% static 'img/no-image.jpg' %}" class="card-img-top" alt="Sin imagen">
            {% endif %}
        </div>

    </div>

    <div class="col-md-7">
        <h2>{{ producto.nombre }}</h2>

        {% if producto.categoria %}
        <p>
            <span class="badge text-bg-secondary">
                {{ producto.categoria.get_nombre_display }}
            </span>
        </p>
        {% endif %}

        <p class="text-muted">
            Proveedor:
            {% if producto.proveedor %}
                {{ producto.proveedor.nombre }}
            {% else %}
                <em>Sin proveedor asignado</em>
            {% endif %}
        </p>

        <p>{{ producto.descripcion|linebreaks }}</p>

        <h4 class="text-success">Precio: ${{ producto.precio }}</h4>
        <p>Stock disponible: <strong>{{ producto.stock }}</strong></p>

        <div class="mt-3 d-flex gap-2">
            <a href="{% url 'supermercado:producto_update' producto.pk %}" class="btn btn-warning">
                <i class="bi bi-pencil"></i> Editar
            </a>
            <a href="{% url 'supermercado:producto_delete' producto.pk %}" class="btn btn-danger">
                <i class="bi bi-trash"></i> Eliminar
            </a>
            <a href="{% url 'supermercado:productos' %}" class="btn btn-secondary">
                Volver al listado
            </a>
        </div>
    </div>
</div>
{% endblock %}
